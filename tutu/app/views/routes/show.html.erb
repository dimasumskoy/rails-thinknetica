<p>
  <strong>Маршрут:</strong>
  <%= @route.name %>
</p>

<p>
    <strong>Поезда на маршруте:</strong>
    <ul>
        <% if @route.trains.any? %>
            <% @route.trains.each do |train| %>
                <li><%= train.number %></li>
            <% end %>
        <% else %>
            Поездов на маршруте нет
        <% end %>
    </ul>
</p>

<p>
    <strong>Станции в маршруте:</strong>
    <% if @route.railway_stations.any? %>
        <table>
            <thead>
                <tr>
                    <td>Название</td>
                    <td>Позиция</td>
                </tr>
            </thead>
            <tbody>
            <% @route.railway_stations.ordered.each do |station| %>
                <tr>
                    <td><%= station.title %></td>
                    <td>
                    <%= form_tag update_position_railway_station_path(station), method: :patch do %>
                        <%= number_field_tag :position, station.position_in(@route) %>
                        <%= hidden_field_tag :route_id, @route.id %>
                        <%= submit_tag "Изменить" %>
                    <% end %>
                    </td>
                </tr>
            <% end %>
            </tbody>
        </table>
    <% else %>
        Станций в маршруте нет
    <% end %>
</p>

<%= link_to 'Редактировать', edit_route_path(@route) %> |
<%= link_to 'Назад', routes_path %>
